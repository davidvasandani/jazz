@layer utilities {
  /* https://rauno.me/craft/nextjs#grid-lines */
  .gridLine {
    --background: #ffffff;
    --color: rgba(0, 0, 0, 0.3);
    --height: 1px;
    --width: 5px;
    --fade-stop: 90%;
    /* Bleed in or out from the container */
    --offset: 48px;

    position: absolute;
    width: calc(100% + var(--offset));
    height: var(--height);
    left: calc(var(--offset) / 2 * -1);

    background: linear-gradient(
      to right,
      var(--color),
      var(--color) 50%,
      transparent 0,
      transparent
    );
    background-size: var(--width) var(--height);

    /* Fade out the edges */
    mask-composite: exclude;
    -webkit-mask: linear-gradient(
        to left,
        var(--background) var(--fade-stop),
        transparent
      ),
      linear-gradient(to right, var(--background) var(--fade-stop), transparent),
      linear-gradient(black, black);
  }
  .gridLine-vertical {
    --background: #ffffff;
    --color: rgba(0, 0, 0, 0.3);
    --height: 1px;
    --width: 1px;
    --gap: 5px;
    --fade-stop: 90%;
    /* Bleed in or out from the container */
    --offset: 48px;

    position: absolute;
    height: calc(100% + var(--offset));
    width: var(--width);
    top: calc(var(--offset) / 2 * -1);

    background: linear-gradient(
      180deg,
      var(--color),
      var(--color) 50%,
      transparent 0,
      transparent
    );
    background-size: var(--width) var(--gap);

    mask-composite: exclude;
    -webkit-mask: linear-gradient(
        to top,
        var(--background) var(--fade-stop),
        transparent
      ),
      linear-gradient(
        to bottom,
        var(--background) var(--fade-stop),
        transparent
      ),
      linear-gradient(#000, #000);
  }
}

@layer components {
  .gridLine-after {
    @apply relative;
    @apply after:gridLine after:bottom-[-0.1px];
  }
  .gridLine-before {
    @apply relative;
    @apply before:gridLine before:top-[-0.1px];
  }

  .Guides__guide {
    width: 1px;
    background: linear-gradient(
      180deg,
      var(--guideDashedColor),
      var(--guideDashedColor) 50%,
      transparent 0,
      transparent
    );
    background-size: 1px 8px;
  }
  .Guides__guide:first-of-type,
  .Guides__guide:last-of-type {
    background: var(--guideSolidColor);
  }
  .Guides__guide:last-of-type {
    @apply absolute top-0 right-0 h-full;
  }

  .SiteHeader--hasGuides:after {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 1px;
    margin: 0;
    border: none;
    background: linear-gradient(
      90deg,
      var(--guideDashedColor),
      var(--guideDashedColor) 50%,
      transparent 0,
      transparent
    );
    background-size: 8px 1px;
    content: "";
  }
}
